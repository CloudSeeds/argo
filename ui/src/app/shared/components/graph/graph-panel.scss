@import 'node_modules/argo-ui/src/styles/config';

@keyframes pulse {
  0% {
    transform: scale(1);
  }
  25% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
  75% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.graph-options-panel {
  margin: 10px;
  padding: 10px;
  display: inline-block;
  background-color: white;
  box-shadow: 1px 1px 3px $argo-color-gray-5;

  a {
    padding: 10px;
    color: $argo-color-gray-6;
    border: 1px solid transparent;
    border-radius: 5px;

    &.active {
      background-color: $argo-color-gray-3;
      border: 1px solid $argo-color-gray-4;
    }
  }
}

.graph {
  overflow: scroll;
  text-align: center;

  .group {
    rect {
      fill: transparent;
      stroke: $argo-color-gray-4;
      stroke-dasharray: 4;
    }

    text {
      fill: $argo-color-gray-4;
    }
  }

  .icon {
    cursor: pointer;

    .bg {
      fill: $argo-color-gray-6;
      border: 1px solid $argo-color-gray-4;
    }

    &.Warning, &.Pending {
      .bg {
        fill: $argo-status-warning-color;
      }
    }

    &.Suspended {
      .bg {
        fill: $argo-color-gray-6;
      }
    }

    &.Running {
      .bg {
        fill: $argo-running-color;
      }

      text.icon {
        animation: spin 1s linear infinite;
      }
    }

    &.Succeeded {
      .bg {
        fill: $argo-success-color;
      }
    }

    &.Error, &.Failed {
      .bg {
        fill: $argo-failed-color;
      }
    }

    &.Active {
      // TODO remove the succeeded color
      .bg {
        fill: $argo-success-color;
      }

      animation: pulse 1s none;
    }

    text {
      text-anchor: middle;
      dominant-baseline: middle;
      fill: $argo-color-gray-2;

      &.icon {
        font-family: "Font Awesome 5 Free", serif;
      }
    }

    path.icon {
      fill: transparent;
      stroke: $argo-color-gray-2;
      stroke-width: 4;
    }
  }

  .label {
    text-anchor: middle;
    fill: $argo-color-gray-8;

  }

  .edge {
    .line {
      fill: transparent;
      stroke-width: 2;
      stroke: $argo-color-gray-4;
    }

    .label {
      transform: rotate(-22.5deg);
    }

    &.arrow .line {
      marker-end: url(#arrow);
    }

    &.related .line {
      stroke-dasharray: 2;
    }
  }

  .arrow {
    fill: $argo-color-gray-4;
  }
}